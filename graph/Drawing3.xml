<mxGraphModel dx="730" dy="1350" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;" edge="1" parent="1" source="4"><mxGeometry relative="1" as="geometry"><mxPoint x="425" y="170" as="targetPoint"/></mxGeometry></mxCell><mxCell id="4" value="开始" style="shape=mxgraph.flowchart.terminator;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2" vertex="1" parent="1"><mxGeometry x="376" y="30" width="98" height="60" as="geometry"/></mxCell><mxCell id="9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;" edge="1" parent="1" source="7" target="8"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="7" value="&lt;span&gt;确定分级相似度参数&lt;br&gt;拆分位置split_list[l1,l2,...]，&lt;br&gt;分级相似度每层扩充系数expand_ratio&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="307.5" y="170" width="235" height="60" as="geometry"/></mxCell><mxCell id="11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;" edge="1" parent="1" source="8" target="10"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="8" value="&lt;span&gt;自动完善参数&lt;br&gt;倒排所有权重，&lt;/span&gt;根据拆分位置，生成分级相似度的分组level_group&lt;span&gt;&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="307.5" y="310" width="235" height="60" as="geometry"/></mxCell><mxCell id="13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;" edge="1" parent="1" source="10" target="12"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="10" value="&lt;span&gt;生成top_n的候选集，以n为基数，根据分组数目，依次乘以扩充系数作为每一层的候选数目。例如，n=100，扩充系数1.2，level_group为3组，第1组n=n*1.2*1.2，第2组n=n*1.2，第3组n=n&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="303.5" y="450" width="243" height="90" as="geometry"/></mxCell><mxCell id="15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;" edge="1" parent="1" source="12" target="14"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="12" value="&lt;span&gt;使用核心权重，即第1层权重分组的贡献结果生成第1层的候选，&lt;br&gt;使用该候选，即120*1.2*1.2个候选内使用2层权重生成第2层的候选，第3层类似。&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="303.5" y="620" width="243" height="70" as="geometry"/></mxCell><mxCell id="17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;jettySize=auto;orthogonalLoop=1;" edge="1" parent="1" source="14"><mxGeometry relative="1" as="geometry"><mxPoint x="425.5" y="950" as="targetPoint"/></mxGeometry></mxCell><mxCell id="14" value="&lt;span&gt;最终生成的第3组的100个候选，即符合预期的结果。&lt;br&gt;该候选首先符合最重要的第1层权重的结果，其次，符合第2层权重的结果，最后，结合了所有相对不重要权重计算总贡献，生成最终结果。&lt;br&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1"><mxGeometry x="304" y="770" width="243" height="100" as="geometry"/></mxCell><mxCell id="18" value="结束" style="shape=mxgraph.flowchart.terminator;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2" vertex="1" parent="1"><mxGeometry x="376.5" y="950" width="98" height="60" as="geometry"/></mxCell></root></mxGraphModel>